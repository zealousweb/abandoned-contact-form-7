var $;!function(a){var e={},n=!1,t=!1,o={init:function(){var e="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0;a(document).on("input",".wpcf7-form :input",o.prepData),a(document).on("change",".wpcf7-form input[type=radio]",o.prepData),a(document).on("change",".wpcf7-form input[type=checkbox]",o.prepData),a(document).on("change",".wpcf7-form input[type=file]",o.prepData),window.addEventListener("load",function(){inputs=a(".wpcf7-form :input"),document.body.addEventListener("touchstart",function(e){a(document).on("input",".wpcf7-form :input",o.prepData),a(document).on("change",".wpcf7-form input[type=radio]",o.prepData),a(document).on("change",".wpcf7-form input[type=checkbox]",o.prepData),a(document).on("change",".wpcf7-form input[type=file]",o.prepData)},!1)},!1),a(document).on("mouseleave",this.abandonMouse),e?(a(document).on("touchend",this.abandonMouse),a(document).on("click",this.abandonClick)):a(document).on("mousedown",this.abandonClick)},prepData:function(t){n=e=a(t.target).closest(".wpcf7-form").serializeArray(),o.debug("Preping data")},sendData:function(){if(n&&!t){t=!0,setTimeout(function(){t=!1},2e3),o.debug("Sending");var e={action:"wpcf7forms_abandoned",page_url:window.location.href,recover:wpcf7forms_abandoned.recover,forms:n};a.ajax({type:"POST",dataType:"json",url:wpcf7forms_abandoned.ajaxurl,data:e,success:function(a){}}),e={},n=!1}},abandonMouse:function(a){o.debug("Mouse abandoned"),o.sendData()},abandonClick:function(a){for(var e=a.srcElement||a.target;e&&(void 0===e.tagName||"a"!==e.tagName.toLowerCase()||!e.href);)e=e.parentNode;if(e&&e.href){o.debug("Click abandoned");var n=e.href,t="internal";if("mailto"===e.protocol?t="mailto":-1===n.indexOf(wpcf7forms_abandoned.home_url)&&(t="external"),("external"===t||"internal"===t)&&!n.match(/^javascript\:/i)){var r=!!e.target&&!e.target.match(/^_(self|parent|top)$/i)&&e.target;(a.ctrlKey||a.shiftKey||a.metaKey||2===a.which)&&(r="_blank"),r?o.sendData():(a.preventDefault?a.preventDefault():a.returnValue=!1,o.sendData(),window.location.href=n)}}},debug:function(a){window.location.hash&&"#wpformsfadebug"===window.location.hash&&console.log("WPForms FA: "+a)}};a(".wpcf7-form").length&&o.init()}(jQuery),$=jQuery,document.addEventListener("wpcf7mailsent",function(a){var e=new URLSearchParams(window.location.search).get("recover"),n={action:"remove_abandoned",cf7_id:a.detail.contactFormId,recover_id:e};$.ajax({type:"POST",dataType:"json",url:wpcf7forms_abandoned.ajaxurl,data:n,success:function(a){}})},!1);